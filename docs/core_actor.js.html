<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>core/actor.js - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AABB.html">AABB</a><ul class='methods'><li data-type='method'><a href="AABB.html#clone">clone</a></li><li data-type='method'><a href="AABB.html#equal">equal</a></li><li data-type='method'><a href="AABB.html#translate">translate</a></li><li data-type='method'><a href="AABB.html#translateX">translateX</a></li><li data-type='method'><a href="AABB.html#translateY">translateY</a></li><li data-type='method'><a href="AABB.html#.distanceManhattan">distanceManhattan</a></li><li data-type='method'><a href="AABB.html#.distanceX">distanceX</a></li><li data-type='method'><a href="AABB.html#.distanceY">distanceY</a></li><li data-type='method'><a href="AABB.html#.from">from</a></li><li data-type='method'><a href="AABB.html#.fromSize">fromSize</a></li><li data-type='method'><a href="AABB.html#.overlapX">overlapX</a></li><li data-type='method'><a href="AABB.html#.overlapY">overlapY</a></li></ul></li><li><a href="Actor.html">Actor</a><ul class='methods'><li data-type='method'><a href="Actor.html#$setListener">$setListener</a></li><li data-type='method'><a href="Actor.html#$trigger">$trigger</a></li><li data-type='method'><a href="Actor.html#addListener">addListener</a></li><li data-type='method'><a href="Actor.html#addSound">addSound</a></li><li data-type='method'><a href="Actor.html#addVibration">addVibration</a></li><li data-type='method'><a href="Actor.html#follow">follow</a></li><li data-type='method'><a href="Actor.html#getComponent">getComponent</a></li><li data-type='method'><a href="Actor.html#hasCollider">hasCollider</a></li><li data-type='method'><a href="Actor.html#hasComponent">hasComponent</a></li><li data-type='method'><a href="Actor.html#hasSprite">hasSprite</a></li><li data-type='method'><a href="Actor.html#mimic">mimic</a></li><li data-type='method'><a href="Actor.html#onAfterRemove">onAfterRemove</a></li><li data-type='method'><a href="Actor.html#onBeforeRemove">onBeforeRemove</a></li><li data-type='method'><a href="Actor.html#onCollide">onCollide</a></li><li data-type='method'><a href="Actor.html#onCollideEnter">onCollideEnter</a></li><li data-type='method'><a href="Actor.html#onCollideLeave">onCollideLeave</a></li><li data-type='method'><a href="Actor.html#onCreate">onCreate</a></li><li data-type='method'><a href="Actor.html#onSetVisible">onSetVisible</a></li><li data-type='method'><a href="Actor.html#onSetZIndex">onSetZIndex</a></li><li data-type='method'><a href="Actor.html#onSoundFinish">onSoundFinish</a></li><li data-type='method'><a href="Actor.html#onTick">onTick</a></li><li data-type='method'><a href="Actor.html#onTranslate">onTranslate</a></li><li data-type='method'><a href="Actor.html#removeCollider">removeCollider</a></li><li data-type='method'><a href="Actor.html#removeComponent">removeComponent</a></li><li data-type='method'><a href="Actor.html#removeSound">removeSound</a></li><li data-type='method'><a href="Actor.html#removeSounds">removeSounds</a></li><li data-type='method'><a href="Actor.html#removeSprite">removeSprite</a></li><li data-type='method'><a href="Actor.html#removeVibration">removeVibration</a></li><li data-type='method'><a href="Actor.html#removeVibrations">removeVibrations</a></li><li data-type='method'><a href="Actor.html#setCollider">setCollider</a></li><li data-type='method'><a href="Actor.html#setComponent">setComponent</a></li><li data-type='method'><a href="Actor.html#setIdentifier">setIdentifier</a></li><li data-type='method'><a href="Actor.html#setLabel">setLabel</a></li><li data-type='method'><a href="Actor.html#setSprite">setSprite</a></li><li data-type='method'><a href="Actor.html#setVisible">setVisible</a></li><li data-type='method'><a href="Actor.html#setZIndex">setZIndex</a></li><li data-type='method'><a href="Actor.html#translate">translate</a></li><li data-type='method'><a href="Actor.html#translateTo">translateTo</a></li><li data-type='method'><a href="Actor.html#translateX">translateX</a></li><li data-type='method'><a href="Actor.html#translateY">translateY</a></li><li data-type='method'><a href="Actor.html#trigger">trigger</a></li><li data-type='method'><a href="Actor.html#unfollow">unfollow</a></li><li data-type='method'><a href="Actor.html#unmimic">unmimic</a></li></ul></li><li><a href="Collider.html">Collider</a></li><li><a href="Curve.html">Curve</a><ul class='methods'><li data-type='method'><a href="Curve.html#getProgress">getProgress</a></li><li data-type='method'><a href="Curve.html#getValues">getValues</a></li><li data-type='method'><a href="Curve.html#setDuration">setDuration</a></li></ul></li><li><a href="Engine.html">Engine</a><ul class='methods'><li data-type='method'><a href="Engine.html#checkResized">checkResized</a></li><li data-type='method'><a href="Engine.html#createStage">createStage</a></li><li data-type='method'><a href="Engine.html#getBoundariesFromFraming">getBoundariesFromFraming</a></li><li data-type='method'><a href="Engine.html#getBoundariesFromScreen">getBoundariesFromScreen</a></li><li data-type='method'><a href="Engine.html#getInput">getInput</a></li><li data-type='method'><a href="Engine.html#getInputAnalog">getInputAnalog</a></li><li data-type='method'><a href="Engine.html#getTranslationFromScreen">getTranslationFromScreen</a></li><li data-type='method'><a href="Engine.html#getTranslationFromViewportPointer">getTranslationFromViewportPointer</a></li><li data-type='method'><a href="Engine.html#hasAssetLoaded">hasAssetLoaded</a></li><li data-type='method'><a href="Engine.html#initiate">initiate</a></li><li data-type='method'><a href="Engine.html#preloadStage">preloadStage</a></li><li data-type='method'><a href="Engine.html#raycast">raycast</a></li><li data-type='method'><a href="Engine.html#removePointerNative">removePointerNative</a></li><li data-type='method'><a href="Engine.html#setColor">setColor</a></li><li data-type='method'><a href="Engine.html#setFraming">setFraming</a></li><li data-type='method'><a href="Engine.html#terminate">terminate</a></li><li data-type='method'><a href="Engine.html#tick">tick</a></li></ul></li><li><a href="EventGamepad.html">EventGamepad</a></li><li><a href="EventGamepadAnalog.html">EventGamepadAnalog</a></li><li><a href="EventGamepadDigital.html">EventGamepadDigital</a></li><li><a href="EventGravityAnalog.html">EventGravityAnalog</a></li><li><a href="EventGravityDigital.html">EventGravityDigital</a></li><li><a href="EventGyroscopeAnalog.html">EventGyroscopeAnalog</a></li><li><a href="EventGyroscopeDigital.html">EventGyroscopeDigital</a></li><li><a href="EventPointerAnalog.html">EventPointerAnalog</a></li><li><a href="EventPointerDigital.html">EventPointerDigital</a></li><li><a href="ExtensionGamepad.html">ExtensionGamepad</a><ul class='methods'><li data-type='method'><a href="ExtensionGamepad.html#.activate">activate</a></li></ul></li><li><a href="ExtensionGravity.html">ExtensionGravity</a><ul class='methods'><li data-type='method'><a href="ExtensionGravity.html#.activate">activate</a></li></ul></li><li><a href="ExtensionGyroscope.html">ExtensionGyroscope</a><ul class='methods'><li data-type='method'><a href="ExtensionGyroscope.html#.activate">activate</a></li></ul></li><li><a href="ExtensionPointer.html">ExtensionPointer</a><ul class='methods'><li data-type='method'><a href="ExtensionPointer.html#.activate">activate</a></li></ul></li><li><a href="FiniteStateMachine.html">FiniteStateMachine</a><ul class='methods'><li data-type='method'><a href="FiniteStateMachine.html#initiate">initiate</a></li><li data-type='method'><a href="FiniteStateMachine.html#tick">tick</a></li></ul></li><li><a href="Grid.html">Grid</a><ul class='methods'><li data-type='method'><a href="Grid.html#clear">clear</a></li><li data-type='method'><a href="Grid.html#delete">delete</a></li><li data-type='method'><a href="Grid.html#get">get</a></li><li data-type='method'><a href="Grid.html#has">has</a></li><li data-type='method'><a href="Grid.html#iterate">iterate</a></li><li data-type='method'><a href="Grid.html#set">set</a></li><li data-type='method'><a href="Grid.html#traverse">traverse</a></li></ul></li><li><a href="Heap.html">Heap</a><ul class='methods'><li data-type='method'><a href="Heap.html#pop">pop</a></li><li data-type='method'><a href="Heap.html#push">push</a></li></ul></li><li><a href="Loop.html">Loop</a><ul class='methods'><li data-type='method'><a href="Loop.html#initiate">initiate</a></li><li data-type='method'><a href="Loop.html#terminate">terminate</a></li></ul></li><li><a href="Pathfinder.html">Pathfinder</a><ul class='methods'><li data-type='method'><a href="Pathfinder.html#find">find</a></li></ul></li><li><a href="Preloadable.html">Preloadable</a></li><li><a href="Quaternion.html">Quaternion</a></li><li><a href="Queue.html">Queue</a><ul class='methods'><li data-type='method'><a href="Queue.html#clear">clear</a></li><li data-type='method'><a href="Queue.html#pop">pop</a></li><li data-type='method'><a href="Queue.html#push">push</a></li></ul></li><li><a href="Shader.html">Shader</a></li><li><a href="Sound.html">Sound</a></li><li><a href="Sprite.html">Sprite</a></li><li><a href="Stack.html">Stack</a><ul class='methods'><li data-type='method'><a href="Stack.html#clear">clear</a></li><li data-type='method'><a href="Stack.html#pop">pop</a></li><li data-type='method'><a href="Stack.html#push">push</a></li></ul></li><li><a href="Stage.html">Stage</a><ul class='methods'><li data-type='method'><a href="Stage.html#createActor">createActor</a></li><li data-type='method'><a href="Stage.html#getActorWithLabel">getActorWithLabel</a></li><li data-type='method'><a href="Stage.html#getActorsWithLabel">getActorsWithLabel</a></li><li data-type='method'><a href="Stage.html#hasActor">hasActor</a></li><li data-type='method'><a href="Stage.html#hasActorWithLabel">hasActorWithLabel</a></li><li data-type='method'><a href="Stage.html#onCreate">onCreate</a></li><li data-type='method'><a href="Stage.html#removeActor">removeActor</a></li><li data-type='method'><a href="Stage.html#removeActorWithLabel">removeActorWithLabel</a></li><li data-type='method'><a href="Stage.html#removeActors">removeActors</a></li><li data-type='method'><a href="Stage.html#removeActorsWithLabel">removeActorsWithLabel</a></li><li data-type='method'><a href="Stage.html#setPointOfView">setPointOfView</a></li></ul></li><li><a href="State.html">State</a><ul class='methods'><li data-type='method'><a href="State.html#getState">getState</a></li><li data-type='method'><a href="State.html#setState">setState</a></li><li data-type='method'><a href="State.html#unwatchAll">unwatchAll</a></li><li data-type='method'><a href="State.html#unwatchState">unwatchState</a></li><li data-type='method'><a href="State.html#watchState">watchState</a></li></ul></li><li><a href="System.html">System</a><ul class='methods'><li data-type='method'><a href="System.html#initiate">initiate</a></li><li data-type='method'><a href="System.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="System.html#onTerminate">onTerminate</a></li><li data-type='method'><a href="System.html#onTick">onTick</a></li><li data-type='method'><a href="System.html#terminate">terminate</a></li><li data-type='method'><a href="System.html#tick">tick</a></li></ul></li><li><a href="SystemActor.html">SystemActor</a><ul class='methods'><li data-type='method'><a href="SystemActor.html#onTick">onTick</a></li></ul></li><li><a href="SystemAudio.html">SystemAudio</a><ul class='methods'><li data-type='method'><a href="SystemAudio.html#hasAssetLoaded">hasAssetLoaded</a></li><li data-type='method'><a href="SystemAudio.html#loadAudio">loadAudio</a></li><li data-type='method'><a href="SystemAudio.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="SystemAudio.html#onTerminate">onTerminate</a></li><li data-type='method'><a href="SystemAudio.html#onTick">onTick</a></li></ul></li><li><a href="SystemCollision.html">SystemCollision</a><ul class='methods'><li data-type='method'><a href="SystemCollision.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="SystemCollision.html#onTick">onTick</a></li></ul></li><li><a href="SystemInput.html">SystemInput</a><ul class='methods'><li data-type='method'><a href="SystemInput.html#getInput">getInput</a></li><li data-type='method'><a href="SystemInput.html#getInputAnalog">getInputAnalog</a></li><li data-type='method'><a href="SystemInput.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="SystemInput.html#onTerminate">onTerminate</a></li><li data-type='method'><a href="SystemInput.html#onTick">onTick</a></li></ul></li><li><a href="SystemRender.html">SystemRender</a><ul class='methods'><li data-type='method'><a href="SystemRender.html#$getActorsVisible">$getActorsVisible</a></li><li data-type='method'><a href="SystemRender.html#checkResized">checkResized</a></li><li data-type='method'><a href="SystemRender.html#getBoundariesFromFraming">getBoundariesFromFraming</a></li><li data-type='method'><a href="SystemRender.html#getBoundariesFromScreen">getBoundariesFromScreen</a></li><li data-type='method'><a href="SystemRender.html#getTranslationFromScreen">getTranslationFromScreen</a></li><li data-type='method'><a href="SystemRender.html#hasAssetLoaded">hasAssetLoaded</a></li><li data-type='method'><a href="SystemRender.html#loadTexture">loadTexture</a></li><li data-type='method'><a href="SystemRender.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="SystemRender.html#onTerminate">onTerminate</a></li><li data-type='method'><a href="SystemRender.html#onTick">onTick</a></li><li data-type='method'><a href="SystemRender.html#raycast">raycast</a></li><li data-type='method'><a href="SystemRender.html#removePointerNative">removePointerNative</a></li><li data-type='method'><a href="SystemRender.html#setColor">setColor</a></li><li data-type='method'><a href="SystemRender.html#setFraming">setFraming</a></li></ul></li><li><a href="SystemVibration.html">SystemVibration</a><ul class='methods'><li data-type='method'><a href="SystemVibration.html#onInitiate">onInitiate</a></li><li data-type='method'><a href="SystemVibration.html#onTerminate">onTerminate</a></li><li data-type='method'><a href="SystemVibration.html#onTick">onTick</a></li></ul></li><li><a href="Timeline.html">Timeline</a><ul class='methods'><li data-type='method'><a href="Timeline.html#addTimeline">addTimeline</a></li><li data-type='method'><a href="Timeline.html#clone">clone</a></li><li data-type='method'><a href="Timeline.html#offset">offset</a></li><li data-type='method'><a href="Timeline.html#seekName">seekName</a></li><li data-type='method'><a href="Timeline.html#seekTimecode">seekTimecode</a></li><li data-type='method'><a href="Timeline.html#tick">tick</a></li></ul></li><li><a href="TimelineKeyframe.html">TimelineKeyframe</a><ul class='methods'><li data-type='method'><a href="TimelineKeyframe.html#clone">clone</a></li><li data-type='method'><a href="TimelineKeyframe.html#offset">offset</a></li></ul></li><li><a href="Vector2.html">Vector2</a><ul class='methods'><li data-type='method'><a href="Vector2.html#add">add</a></li><li data-type='method'><a href="Vector2.html#ceil">ceil</a></li><li data-type='method'><a href="Vector2.html#clone">clone</a></li><li data-type='method'><a href="Vector2.html#equal">equal</a></li><li data-type='method'><a href="Vector2.html#floor">floor</a></li><li data-type='method'><a href="Vector2.html#length">length</a></li><li data-type='method'><a href="Vector2.html#multiply">multiply</a></li><li data-type='method'><a href="Vector2.html#negate">negate</a></li><li data-type='method'><a href="Vector2.html#normalize">normalize</a></li><li data-type='method'><a href="Vector2.html#rotate">rotate</a></li><li data-type='method'><a href="Vector2.html#round">round</a></li><li data-type='method'><a href="Vector2.html#scale">scale</a></li><li data-type='method'><a href="Vector2.html#subtract">subtract</a></li><li data-type='method'><a href="Vector2.html#.deserialize">deserialize</a></li><li data-type='method'><a href="Vector2.html#.distanceDiagonal">distanceDiagonal</a></li><li data-type='method'><a href="Vector2.html#.distanceEuclidean">distanceEuclidean</a></li><li data-type='method'><a href="Vector2.html#.distanceManhattan">distanceManhattan</a></li><li data-type='method'><a href="Vector2.html#.from">from</a></li><li data-type='method'><a href="Vector2.html#.serialize">serialize</a></li></ul></li><li><a href="Vector3.html">Vector3</a><ul class='methods'><li data-type='method'><a href="Vector3.html#add">add</a></li><li data-type='method'><a href="Vector3.html#ceil">ceil</a></li><li data-type='method'><a href="Vector3.html#clone">clone</a></li><li data-type='method'><a href="Vector3.html#equal">equal</a></li><li data-type='method'><a href="Vector3.html#floor">floor</a></li><li data-type='method'><a href="Vector3.html#length">length</a></li><li data-type='method'><a href="Vector3.html#multiply">multiply</a></li><li data-type='method'><a href="Vector3.html#negate">negate</a></li><li data-type='method'><a href="Vector3.html#normalize">normalize</a></li><li data-type='method'><a href="Vector3.html#rotate">rotate</a></li><li data-type='method'><a href="Vector3.html#round">round</a></li><li data-type='method'><a href="Vector3.html#scale">scale</a></li><li data-type='method'><a href="Vector3.html#subtract">subtract</a></li><li data-type='method'><a href="Vector3.html#.deserialize">deserialize</a></li><li data-type='method'><a href="Vector3.html#.from">from</a></li><li data-type='method'><a href="Vector3.html#.serialize">serialize</a></li></ul></li><li><a href="Vibration.html">Vibration</a></li></ul><h3>Modules</h3><ul><li><a href="module-COLLIDER_TYPES.html">COLLIDER_TYPES</a></li><li><a href="module-CONTENT_TYPES.html">CONTENT_TYPES</a></li><li><a href="module-CURVES.html">CURVES</a><ul class='methods'><li data-type='method'><a href="module-CURVES.html#.cosine">cosine</a></li><li data-type='method'><a href="module-CURVES.html#.double">double</a></li><li data-type='method'><a href="module-CURVES.html#.easeIn">easeIn</a></li><li data-type='method'><a href="module-CURVES.html#.easeInOut">easeInOut</a></li><li data-type='method'><a href="module-CURVES.html#.easeOut">easeOut</a></li><li data-type='method'><a href="module-CURVES.html#.half">half</a></li><li data-type='method'><a href="module-CURVES.html#.invert">invert</a></li><li data-type='method'><a href="module-CURVES.html#.linear">linear</a></li><li data-type='method'><a href="module-CURVES.html#.multiply">multiply</a></li><li data-type='method'><a href="module-CURVES.html#.negate">negate</a></li><li data-type='method'><a href="module-CURVES.html#.reverse">reverse</a></li><li data-type='method'><a href="module-CURVES.html#.sine">sine</a></li></ul></li><li><a href="module-EVENT_CODES_GAMEPADS_PLAYSTATION.html">EVENT_CODES/GAMEPADS/PLAYSTATION</a></li><li><a href="module-EVENT_CODES_GAMEPADS_STANDARD.html">EVENT_CODES/GAMEPADS/STANDARD</a></li><li><a href="module-EVENT_CODES_GAMEPADS_XBOX.html">EVENT_CODES/GAMEPADS/XBOX</a></li><li><a href="module-EVENT_CODES_GRAVITY.html">EVENT_CODES/GRAVITY</a></li><li><a href="module-EVENT_CODES_GYROSCOPE.html">EVENT_CODES/GYROSCOPE</a></li><li><a href="module-EVENT_CODES_KEYBOARDS_AZERTY.html">EVENT_CODES/KEYBOARDS/AZERTY</a></li><li><a href="module-EVENT_CODES_KEYBOARDS_QWERTY.html">EVENT_CODES/KEYBOARDS/QWERTY</a></li><li><a href="module-EVENT_CODES_KEYBOARDS_STANDARD.html">EVENT_CODES/KEYBOARDS/STANDARD</a></li><li><a href="module-EVENT_CODES_POINTER.html">EVENT_CODES/POINTER</a></li><li><a href="module-EVENT_TYPES_GAMEPAD.html">EVENT_TYPES/GAMEPAD</a></li><li><a href="module-EVENT_TYPES_GRAVITY.html">EVENT_TYPES/GRAVITY</a></li><li><a href="module-EVENT_TYPES_GYROSCOPE.html">EVENT_TYPES/GYROSCOPE</a></li><li><a href="module-EVENT_TYPES_KEYBOARD.html">EVENT_TYPES/KEYBOARD</a></li><li><a href="module-EVENT_TYPES_NATIVE.html">EVENT_TYPES/NATIVE</a></li><li><a href="module-EVENT_TYPES_POINTER.html">EVENT_TYPES/POINTER</a></li><li><a href="module-FACTORIES.html">FACTORIES</a><ul class='methods'><li data-type='method'><a href="module-FACTORIES.html#.ActorWithPreloadables">ActorWithPreloadables</a></li><li data-type='method'><a href="module-FACTORIES.html#.PreloadableSound">PreloadableSound</a></li><li data-type='method'><a href="module-FACTORIES.html#.PreloadableTexture">PreloadableTexture</a></li><li data-type='method'><a href="module-FACTORIES.html#.StageWithPreloadables">StageWithPreloadables</a></li></ul></li><li><a href="module-MATHEMATICS.html">MATHEMATICS</a><ul class='methods'><li data-type='method'><a href="module-MATHEMATICS.html#.clamp">clamp</a></li><li data-type='method'><a href="module-MATHEMATICS.html#.hypotenuse">hypotenuse</a></li><li data-type='method'><a href="module-MATHEMATICS.html#.normalize">normalize</a></li></ul></li><li><a href="module-MEDIA_TYPES.html">MEDIA_TYPES</a></li><li><a href="module-SHADER_PARAMETER_TYPES.html">SHADER_PARAMETER_TYPES</a></li><li><a href="module-STORAGE.html">STORAGE</a><ul class='methods'><li data-type='method'><a href="module-STORAGE.html#.get">get</a></li><li data-type='method'><a href="module-STORAGE.html#.has">has</a></li><li data-type='method'><a href="module-STORAGE.html#.remove">remove</a></li><li data-type='method'><a href="module-STORAGE.html#.set">set</a></li></ul></li><li><a href="module-UTILS.html">UTILS</a><ul class='methods'><li data-type='method'><a href="module-UTILS.html#.debounce">debounce</a></li><li data-type='method'><a href="module-UTILS.html#.deduplicate">deduplicate</a></li><li data-type='method'><a href="module-UTILS.html#.extract">extract</a></li><li data-type='method'><a href="module-UTILS.html#.frame">frame</a></li><li data-type='method'><a href="module-UTILS.html#.ready">ready</a></li><li data-type='method'><a href="module-UTILS.html#.shuffle">shuffle</a></li><li data-type='method'><a href="module-UTILS.html#.sleep">sleep</a></li><li data-type='method'><a href="module-UTILS.html#.uuid">uuid</a></li></ul></li></ul>
    
</nav>

<div id="main">
    
    <h1 class="page-title">core/actor.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>// 'ESLint' configuration
/* global TypeGenericAction */
/* global TypeGenericState */

import {Collider, Engine, Preloadable, Sound, Sprite, Stage, UTILS, Vector2, Vibration} from '../index.js';

/**
 * Abstract actors.
 * @template {string} [TypeGenericAction=string] The generic type of the actions.
 * @template {string} [TypeGenericState=string] The generic type of the states.
 *
 * @example
 *
 * class ActorExample extends Actor {}
 */
class Actor extends Preloadable {

    /**
     * @callback TypeListenerAction An action listener.
     * @param {TypeGenericAction} $action The action to listen.
     * @protected
     *
     * @memberof Actor
     */

    /**
     * @callback TypeListenerState A state listener.
     * @param {TypeGenericState} $state The state to listen.
     * @protected
     *
     * @memberof Actor
     */

    /**
     * @typedef {object} TypeMimicDeltas A list of relative delta properties.
     * @property {Vector2} $deltaTranslation The delta translation.
     * @property {number} $deltaZIndex The delta z-index.
     * @protected
     *
     * @memberof Actor
     */

    /**
     * Stores the collider.
     * @type {Collider}
     * @private
     */
    $collider;

    /**
     * Stores the components.
     * @type {Object&lt;string, any>}
     * @private
     */
    $components;

    /**
     * Stores the followers.
     * @type {Map&lt;Actor, Vector2>}
     * @private
     */
    $followers;

    /**
     * Stores the identifier.
     * @type {string}
     * @private
     */
    $identifier;

    /**
     * Stores the label.
     * @type {string}
     * @private
     */
    $label;

    /**
     * Stores the action listeners.
     * @type {Object&lt;string, TypeListenerAction>}
     * @private
     */
    $listenerActions;

    /**
     * Stores the state listeners.
     * @type {Object&lt;string, Array&lt;TypeListenerState>>}
     * @private
     */
    $listenersStates;

    /**
     * Stores the mimics.
     * @type {Map&lt;Actor, TypeMimicDeltas>}
     * @private
     */
    $mimics;

    /**
     * Stores the sounds.
     * @type {Array&lt;Sound>}
     * @private
     */
    $sounds;

    /**
     * Stores the sprite.
     * @type {Sprite}
     * @private
     */
    $sprite;

    /**
     * Stores the current stage.
     * @type {Stage}
     * @private
     */
    $stage;

    /**
     * Stores the position.
     * @type {Vector2}
     * @private
     */
    $translation;

    /**
     * Stores the uuid.
     * @type {string}
     * @private
     */
    $uuid;

    /**
     * Stores the vibrations.
     * @type {Array&lt;Vibration>}
     * @private
     */
    $vibrations;

    /**
     * Stores the visible status.
     * @type {boolean}
     * @private
     */
    $visible;

    /**
     * Stores the z-index.
     * @type {number}
     * @private
     */
    $zIndex;

    /**
     * Gets the collider.
     * @type {Collider}
     * @public
     */
    get collider() {

        return this.$collider;
    }

    /**
     * Gets the current engine.
     * @type {Engine}
     * @public
     */
    get engine() {

        return this.stage.engine;
    }

    /**
     * Gets the followers.
     * @type {Map&lt;Actor, Vector2>}
     * @public
     */
    get followers() {

        this.$followers.keys().forEach(($follower) => {

            if (this.stage.hasActor($follower) === false) {

                this.$followers.delete($follower);
            }
        });

        return this.$followers;
    }

    /**
     * Gets the identifier.
     * @type {string}
     * @public
     */
    get identifier() {

        return this.$identifier;
    }

    /**
     * Gets the label.
     * @type {string}
     * @public
     */
    get label() {

        return this.$label;
    }

    /**
     * Gets the mimics.
     * @type {Map&lt;Actor, TypeMimicDeltas>}
     * @public
     */
    get mimics() {

        this.$mimics.keys().forEach(($mimic) => {

            if (this.stage.hasActor($mimic) === false) {

                this.$mimics.delete($mimic);
            }
        });

        return this.$mimics;
    }

    /**
     * Gets the sounds.
     * @type {Array&lt;Sound>}
     * @public
     */
    get sounds() {

        return this.$sounds;
    }

    /**
     * Gets the sprite.
     * @type {Sprite}
     * @public
     */
    get sprite() {

        return this.$sprite;
    }

    /**
     * Gets the current stage.
     * @type {Stage}
     * @public
     */
    get stage() {

        return this.$stage;
    }

    /**
     * Gets the position.
     * @type {Vector2}
     * @public
     */
    get translation() {

        return this.$translation;
    }

    /**
     * Gets the uuid.
     * @type {string}
     * @public
     */
    get uuid() {

        return this.$uuid;
    }

    /**
     * Gets the vibrations.
     * @type {Array&lt;Vibration>}
     * @public
     */
    get vibrations() {

        return this.$vibrations;
    }

    /**
     * Gets the visible status.
     * @type {boolean}
     * @public
     */
    get visible() {

        return this.$visible;
    }

    /**
     * Gets the z-index.
     * @type {number}
     * @public
     */
    get zIndex() {

        return this.$zIndex;
    }

    /**
     * Create a new actor.
     * @param {Stage} $stage The stage on which to create the actor.
     */
    constructor($stage) {

        super();

        this.$stage = $stage;

        this.$components = {};
        this.$followers = new Map();
        this.$listenerActions = {};
        this.$listenersStates = {};
        this.$mimics = new Map();
        this.$sounds = [];
        this.$translation = new Vector2(0, 0);
        this.$uuid = UTILS.uuid();
        this.$vibrations = [];
        this.$visible = true;
        this.$zIndex = 0;
    }

    /**
     * Adds a following actor.
     * @param {Actor} $actor The following actor to add.
     * @private
     */
    $addFollower($actor) {

        if (this.$followers.has($actor) === false) {

            const delta = $actor.translation.clone().subtract(this.$translation);

            this.$followers.set($actor, delta);
        }
    }

    /**
     * Adds a mimic actor.
     * @param {Actor} $actor The mimic actor to add.
     * @private
     */
    $addMimic($actor) {

        if (this.$mimics.has($actor) === false) {

            const deltaTranslation = $actor.translation.clone().subtract(this.$translation);
            const deltaZIndex = $actor.zIndex - this.zIndex;

            this.$mimics.set($actor, {

                $deltaTranslation: deltaTranslation,
                $deltaZIndex: deltaZIndex
            });
        }
    }

    /**
     * Removes a following actor.
     * @param {Actor} $actor The following actor to remove.
     * @private
     */
    $removeFollower($actor) {

        if (this.$followers.has($actor) === true) {

            this.$followers.delete($actor);
        }
    }

    /**
     * Removes a mimic actor.
     * @param {Actor} $actor The mimic actor to remove.
     * @private
     */
    $removeMimic($actor) {

        if (this.$mimics.has($actor) === true) {

            this.$mimics.delete($actor);
        }
    }

    /**
     * Sets an action listener.
     * @param {TypeGenericAction} $action The action to listen.
     * @param {TypeListenerAction} $handler The listener to set.
     * @returns {this}
     * @protected
     */
    $setListener($action, $handler) {

        this.$listenerActions[$action] = $handler;

        return this;
    }

    /**
     * Translates the actor in the world space.
     * @param {Vector2} $vector The translation to apply.
     * @private
     */
    $translate($vector) {

        this.$translation.add($vector);

        Array.from(this.$followers.entries()).forEach(([$follower, $delta]) => {

            if (this.stage.hasActor($follower) === false) {

                this.$followers.delete($follower);

                return;
            }

            $follower.translateTo(this.$translation.clone().add($delta));
        });

        Array.from(this.$mimics.entries()).forEach(([$mimic, {$deltaTranslation}]) => {

            if (this.stage.hasActor($mimic) === false) {

                this.$mimics.delete($mimic);

                return;
            }

            $mimic.translateTo(this.$translation.clone().add($deltaTranslation));
        });

        this.onTranslate($vector);
    }

    /**
     * Triggers a changing state on listeners.
     * @param {TypeGenericState} $state The changing state to trigger.
     * @returns {this}
     * @protected
     */
    $trigger($state) {

        if (Object.hasOwn(this.$listenersStates, $state) === false) {

            return this;
        }

        this.$listenersStates[$state].forEach(($handler) => {

            $handler($state);
        });

        return this;
    }

    /**
     * Adds a state listener.
     * @param {TypeGenericState} $state The state to listen.
     * @param {TypeListenerState} $handler The listener to add.
     * @returns {this}
     * @public
     */
    addListener($state, $handler) {

        if (Object.hasOwn(this.$listenersStates, $state) === false) {

            this.$listenersStates[$state] = [];
        }

        this.$listenersStates[$state].push($handler);

        return this;
    }

    /**
     * Adds the given sound.
     * @param {Sound} $sound The sound to add.
     * @returns {this}
     * @public
     */
    addSound($sound) {

        this.$sounds.push($sound);

        return this;
    }

    /**
     * Adds the given vibration.
     * @param {Vibration} $vibration The vibration to add.
     * @returns {this}
     * @public
     */
    addVibration($vibration) {

        this.$vibrations.push($vibration);

        return this;
    }

    /**
     * Follows the position of the given actor.
     * @param {Actor} $actor The actor to follow the position.
     * @returns {this}
     * @public
     */
    follow($actor) {

        $actor.$addFollower(this);

        return this;
    }

    /**
     * Gets a component.
     * @param {string} $name The name of the component to get.
     * @returns {any}
     * @public
     */
    getComponent($name) {

        return this.$components[$name];
    }

    /**
     * Checks if the actor has a collider.
     * @returns {boolean}
     * @public
     */
    hasCollider() {

        return this.$collider instanceof Collider;
    }

    /**
     * Checks if the actor has the given component.
     * @param {string} $name The name of the component to check.
     * @returns {boolean}
     * @public
     */
    hasComponent($name) {

        return Object.hasOwn(this.$components, $name) === true;
    }

    /**
     * Checks if the actor has a sprite.
     * @returns {boolean}
     * @public
     */
    hasSprite() {

        return this.$sprite instanceof Sprite;
    }

    /**
     * Mimics the properties of the given actor.
     * @param {Actor} $actor The actor to mimic the properties.
     * @returns {this}
     * @public
     */
    mimic($actor) {

        $actor.$addMimic(this);

        return this;
    }

    /**
     * Called just after removing the actor.
     * @public
     */
    onAfterRemove() {}

    /**
     * Called just before removing the actor.
     * @public
     */
    onBeforeRemove() {}

    /**
     * Called when a collision is being resolved.
     * @param {object} $parameters The given parameters.
     * @param {Actor} $parameters.$actor The colliding actor.
     * @param {boolean} $parameters.$east If the origin of collision is facing the east face.
     * @param {boolean} $parameters.$north If the origin of collision is facing the north face.
     * @param {boolean} $parameters.$south If the origin of collision is facing the south face.
     * @param {boolean} $parameters.$west If the origin of collision is facing the west face.
     * @public
     */
    onCollide({$actor, $east, $north, $south, $west}) {

        void $actor;
        void $east;
        void $north;
        void $south;
        void $west;
    }

    /**
     * Called when a collision is being entered.
     * @param {object} $parameters The given parameters.
     * @param {Actor} $parameters.$actor The colliding actor.
     * @param {boolean} $parameters.$east If the origin of collision is facing the east face.
     * @param {boolean} $parameters.$north If the origin of collision is facing the north face.
     * @param {boolean} $parameters.$south If the origin of collision is facing the south face.
     * @param {boolean} $parameters.$west If the origin of collision is facing the west face.
     * @public
     */
    onCollideEnter({$actor, $east, $north, $south, $west}) {

        void $actor;
        void $east;
        void $north;
        void $south;
        void $west;
    }

    /**
     * Called when a collision is being left.
     * @param {Actor} $actor The colliding actor.
     * @public
     */
    onCollideLeave($actor) {

        void $actor;
    }

    /**
     * Called when the actor is being created.
     * @public
     */
    onCreate() {}

    /**
     * Called when the visible status is being set.
     * @param {boolean} $visible The visible status set.
     * @public
     */
    onSetVisible($visible) {

        void $visible;
    }

    /**
     * Called when the z-index is being set.
     * @param {number} $zIndex The z-index set.
     * @public
     */
    onSetZIndex($zIndex) {

        void $zIndex;
    }

    /**
     * Called when a sound is finishing playing.
     * @param {Sound} $sound The sound.
     * @public
     */
    onSoundFinish($sound) {

        void $sound;
    }

    /**
     * Called when the actor is being updated by one tick update.
     * @param {number} $timetick The tick duration (in ms).
     * @public
     */
    onTick($timetick) {

        void $timetick;
    }

    /**
     * Called when the actor is being translated.
     * @param {Vector2} $vector The translation applied.
     * @public
     */
    onTranslate($vector) {

        void $vector;
    }

    /**
     * Removes the collider.
     * @returns {this}
     * @public
     */
    removeCollider() {

        this.$collider = undefined;

        return this;
    }

    /**
     * Removes the given component.
     * @param {string} $name The name of the component to remove.
     * @returns {this}
     * @public
     */
    removeComponent($name) {

        this.$components[$name] = undefined;

        return this;
    }

    /**
     * Removes the given sound.
     * @param {Sound} $sound The sound to remove.
     * @returns {this}
     * @public
     */
    removeSound($sound) {

        UTILS.extract($sound, this.$sounds);

        return this;
    }

    /**
     * Removes all sound.
     * @returns {this}
     * @public
     */
    removeSounds() {

        this.$sounds = [];

        return this;
    }

    /**
     * Removes the sprite.
     * @returns {this}
     * @public
     */
    removeSprite() {

        this.$sprite = undefined;

        return this;
    }

    /**
     * Removes the given vibration.
     * @param {Vibration} $vibration The vibration to remove.
     * @returns {this}
     * @public
     */
    removeVibration($vibration) {

        UTILS.extract($vibration, this.$vibrations);

        return this;
    }

    /**
     * Removes all vibration.
     * @returns {this}
     * @public
     */
    removeVibrations() {

        this.$vibrations = [];

        return this;
    }

    /**
     * Sets the collider.
     * @param {Collider} $collider The collider to set.
     * @returns {this}
     * @public
     */
    setCollider($collider) {

        this.$collider = $collider;

        return this;
    }

    /**
     * Sets a component.
     * @param {string} $name The name of the component to set.
     * @param {any} $component The value of the component to set.
     * @returns {this}
     * @public
     */
    setComponent($name, $component) {

        this.$components[$name] = $component;

        return this;
    }

    /**
     * Sets the identifier.
     * @param {string} $identifier The identifier to set.
     * @returns {this}
     * @public
     */
    setIdentifier($identifier) {

        this.$identifier = $identifier;

        return this;
    }

    /**
     * Sets the label.
     * @param {string} $label The label to set.
     * @returns {this}
     * @public
     */
    setLabel($label) {

        this.$label = $label;

        return this;
    }

    /**
     * Sets the sprite.
     * @param {Sprite} $sprite The sprite to set.
     * @returns {this}
     * @public
     */
    setSprite($sprite) {

        this.$sprite = $sprite;

        return this;
    }

    /**
     * Sets the visible status.
     * @param {boolean} $visible The visible status to set.
     * @returns {this}
     * @public
     */
    setVisible($visible) {

        this.$visible = $visible;

        this.$mimics.keys().forEach(($mimic) => {

            if (this.stage.hasActor($mimic) === false) {

                this.$mimics.delete($mimic);

                return;
            }

            $mimic.setVisible(this.$visible);
        });

        this.onSetVisible($visible);

        return this;
    }

    /**
     * Sets the z-index.
     * @param {number} $zIndex The z-index to set.
     * @returns {this}
     * @public
     */
    setZIndex($zIndex) {

        this.$zIndex = $zIndex;

        Array.from(this.$mimics.entries()).forEach(([$mimic, {$deltaZIndex}]) => {

            if (this.stage.hasActor($mimic) === false) {

                this.$mimics.delete($mimic);

                return;
            }

            $mimic.setZIndex(this.$zIndex + $deltaZIndex);
        });

        this.onSetZIndex($zIndex);

        return this;
    }

    /**
     * Translates the actor in the world space from a third person point of view.
     * @param {Vector2} $vector The translation to apply.
     * @returns {this}
     * @public
     */
    translate($vector) {

        const translation = $vector.clone();

        this.$translate(translation);

        return this;
    }

    /**
     * Translates the actor in the world space to the given position.
     * @param {Vector2} $vector The position to translate to.
     * @returns {this}
     * @public
     */
    translateTo($vector) {

        const translation = $vector.clone().subtract(this.$translation);

        this.$translate(translation);

        return this;
    }

    /**
     * Translates the actor in the world space from a third person point of view on the x-axis.
     * @param {number} $x The translation to apply on the x-axis.
     * @returns {this}
     * @public
     */
    translateX($x) {

        const translation = new Vector2($x, 0);

        this.$translate(translation);

        return this;
    }

    /**
     * Translates the actor in the world space from a third person point of view on the y-axis.
     * @param {number} $y The translation to apply on the y-axis.
     * @returns {this}
     * @public
     */
    translateY($y) {

        const translation = new Vector2(0, $y);

        this.$translate(translation);

        return this;
    }

    /**
     * Triggers an action.
     * @param {TypeGenericAction} $action The action to trigger.
     * @returns {this}
     * @public
     */
    trigger($action) {

        if (Object.hasOwn(this.$listenerActions, $action) === false) {

            return this;
        }

        this.$listenerActions[$action]($action);

        return this;
    }

    /**
     * Unfollows the position of the given actor.
     * @param {Actor} $actor The actor to unfollow the position.
     * @returns {this}
     * @public
     */
    unfollow($actor) {

        $actor.$removeFollower(this);

        return this;
    }

    /**
     * Unmimics the properties of the given actor.
     * @param {Actor} $actor The actor to unmimic the properties.
     * @returns {this}
     * @public
     */
    unmimic($actor) {

        $actor.$removeMimic(this);

        return this;
    }
}

export {

    Actor
};

export default Actor;
</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.3</a> on Fri Feb 13 2026 14:15:56 GMT+0000 (Coordinated Universal Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>



</body>
</html>
